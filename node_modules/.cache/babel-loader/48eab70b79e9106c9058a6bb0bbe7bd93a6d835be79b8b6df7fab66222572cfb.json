{"ast":null,"code":"var _jsxFileName = \"/home/codeunity/Desktop/weshly/todo-app/src/context/TodoContext.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport React, { createContext, useContext, useReducer, useEffect } from 'react';\nimport { useLocalStorage } from '../hooks/useLocalStorage';\nimport { STORAGE_KEY, PRIORITY_LEVELS, FILTER_TYPES } from '../utils/constants';\nimport { generateId, filterTodos, sortTodosByPriority } from '../utils/helpers';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst TodoContext = /*#__PURE__*/createContext();\nconst initialState = {\n  todos: [],\n  filter: FILTER_TYPES.ALL,\n  searchTerm: '',\n  showAddForm: false,\n  editingId: null,\n  editValue: ''\n};\nconst todoReducer = (state, action) => {\n  switch (action.type) {\n    case 'SET_TODOS':\n      return {\n        ...state,\n        todos: action.payload\n      };\n    case 'ADD_TODO':\n      const newTodo = {\n        id: generateId(),\n        text: action.payload.text,\n        completed: false,\n        priority: action.payload.priority || PRIORITY_LEVELS.MEDIUM,\n        createdAt: new Date().toISOString(),\n        updatedAt: new Date().toISOString()\n      };\n      return {\n        ...state,\n        todos: [newTodo, ...state.todos],\n        showAddForm: false\n      };\n    case 'TOGGLE_TODO':\n      return {\n        ...state,\n        todos: state.todos.map(todo => todo.id === action.payload ? {\n          ...todo,\n          completed: !todo.completed,\n          updatedAt: new Date().toISOString()\n        } : todo)\n      };\n    case 'DELETE_TODO':\n      return {\n        ...state,\n        todos: state.todos.filter(todo => todo.id !== action.payload)\n      };\n    case 'UPDATE_TODO':\n      return {\n        ...state,\n        todos: state.todos.map(todo => todo.id === action.payload.id ? {\n          ...todo,\n          ...action.payload.updates,\n          updatedAt: new Date().toISOString()\n        } : todo),\n        editingId: null,\n        editValue: ''\n      };\n    case 'SET_FILTER':\n      return {\n        ...state,\n        filter: action.payload\n      };\n    case 'SET_SEARCH_TERM':\n      return {\n        ...state,\n        searchTerm: action.payload\n      };\n    case 'SET_SHOW_ADD_FORM':\n      return {\n        ...state,\n        showAddForm: action.payload\n      };\n    case 'START_EDITING':\n      return {\n        ...state,\n        editingId: action.payload.id,\n        editValue: action.payload.text\n      };\n    case 'CANCEL_EDITING':\n      return {\n        ...state,\n        editingId: null,\n        editValue: ''\n      };\n    case 'SET_EDIT_VALUE':\n      return {\n        ...state,\n        editValue: action.payload\n      };\n    default:\n      return state;\n  }\n};\nexport const TodoProvider = ({\n  children\n}) => {\n  _s();\n  const [state, dispatch] = useReducer(todoReducer, initialState);\n  const [, setStoredTodos] = useLocalStorage(STORAGE_KEY, []);\n\n  // Load todos from localStorage on mount\n  useEffect(() => {\n    const savedTodos = JSON.parse(localStorage.getItem(STORAGE_KEY) || '[]');\n    if (savedTodos.length > 0) {\n      dispatch({\n        type: 'SET_TODOS',\n        payload: savedTodos\n      });\n    } else {\n      // Default todos for demo\n      const defaultTodos = [{\n        id: generateId(),\n        text: 'Complete project proposal',\n        completed: false,\n        priority: PRIORITY_LEVELS.HIGH,\n        createdAt: new Date().toISOString(),\n        updatedAt: new Date().toISOString()\n      }, {\n        id: generateId(),\n        text: 'Review code changes',\n        completed: true,\n        priority: PRIORITY_LEVELS.MEDIUM,\n        createdAt: new Date().toISOString(),\n        updatedAt: new Date().toISOString()\n      }, {\n        id: generateId(),\n        text: 'Schedule team meeting',\n        completed: false,\n        priority: PRIORITY_LEVELS.LOW,\n        createdAt: new Date().toISOString(),\n        updatedAt: new Date().toISOString()\n      }];\n      dispatch({\n        type: 'SET_TODOS',\n        payload: defaultTodos\n      });\n    }\n  }, []);\n\n  // Save todos to localStorage whenever todos change\n  useEffect(() => {\n    setStoredTodos(state.todos);\n  }, [state.todos, setStoredTodos]);\n  const filteredTodos = filterTodos(state.todos, state.filter, state.searchTerm);\n  const sortedTodos = sortTodosByPriority(filteredTodos);\n  const stats = {\n    total: state.todos.length,\n    completed: state.todos.filter(t => t.completed).length,\n    active: state.todos.filter(t => !t.completed).length\n  };\n  const value = {\n    ...state,\n    dispatch,\n    filteredTodos: sortedTodos,\n    stats\n  };\n  return /*#__PURE__*/_jsxDEV(TodoContext.Provider, {\n    value: value,\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 159,\n    columnNumber: 5\n  }, this);\n};\n_s(TodoProvider, \"+4vqMkDF4Z4QLPAJetbQhT4jOIo=\", false, function () {\n  return [useLocalStorage];\n});\n_c = TodoProvider;\nexport const useTodoContext = () => {\n  _s2();\n  const context = useContext(TodoContext);\n  if (!context) {\n    throw new Error('useTodoContext must be used within a TodoProvider');\n  }\n  return context;\n};\n_s2(useTodoContext, \"b9L3QQ+jgeyIrH0NfHrJ8nn7VMU=\");\nvar _c;\n$RefreshReg$(_c, \"TodoProvider\");","map":{"version":3,"names":["React","createContext","useContext","useReducer","useEffect","useLocalStorage","STORAGE_KEY","PRIORITY_LEVELS","FILTER_TYPES","generateId","filterTodos","sortTodosByPriority","jsxDEV","_jsxDEV","TodoContext","initialState","todos","filter","ALL","searchTerm","showAddForm","editingId","editValue","todoReducer","state","action","type","payload","newTodo","id","text","completed","priority","MEDIUM","createdAt","Date","toISOString","updatedAt","map","todo","updates","TodoProvider","children","_s","dispatch","setStoredTodos","savedTodos","JSON","parse","localStorage","getItem","length","defaultTodos","HIGH","LOW","filteredTodos","sortedTodos","stats","total","t","active","value","Provider","fileName","_jsxFileName","lineNumber","columnNumber","_c","useTodoContext","_s2","context","Error","$RefreshReg$"],"sources":["/home/codeunity/Desktop/weshly/todo-app/src/context/TodoContext.js"],"sourcesContent":["import React, { createContext, useContext, useReducer, useEffect } from 'react';\nimport { useLocalStorage } from '../hooks/useLocalStorage';\nimport { STORAGE_KEY, PRIORITY_LEVELS, FILTER_TYPES } from '../utils/constants';\nimport { generateId, filterTodos, sortTodosByPriority } from '../utils/helpers';\n\nconst TodoContext = createContext();\n\nconst initialState = {\n  todos: [],\n  filter: FILTER_TYPES.ALL,\n  searchTerm: '',\n  showAddForm: false,\n  editingId: null,\n  editValue: '',\n};\n\nconst todoReducer = (state, action) => {\n  switch (action.type) {\n    case 'SET_TODOS':\n      return { ...state, todos: action.payload };\n    \n    case 'ADD_TODO':\n      const newTodo = {\n        id: generateId(),\n        text: action.payload.text,\n        completed: false,\n        priority: action.payload.priority || PRIORITY_LEVELS.MEDIUM,\n        createdAt: new Date().toISOString(),\n        updatedAt: new Date().toISOString(),\n      };\n      return {\n        ...state,\n        todos: [newTodo, ...state.todos],\n        showAddForm: false,\n      };\n    \n    case 'TOGGLE_TODO':\n      return {\n        ...state,\n        todos: state.todos.map(todo =>\n          todo.id === action.payload\n            ? { ...todo, completed: !todo.completed, updatedAt: new Date().toISOString() }\n            : todo\n        ),\n      };\n    \n    case 'DELETE_TODO':\n      return {\n        ...state,\n        todos: state.todos.filter(todo => todo.id !== action.payload),\n      };\n    \n    case 'UPDATE_TODO':\n      return {\n        ...state,\n        todos: state.todos.map(todo =>\n          todo.id === action.payload.id\n            ? { ...todo, ...action.payload.updates, updatedAt: new Date().toISOString() }\n            : todo\n        ),\n        editingId: null,\n        editValue: '',\n      };\n    \n    case 'SET_FILTER':\n      return { ...state, filter: action.payload };\n    \n    case 'SET_SEARCH_TERM':\n      return { ...state, searchTerm: action.payload };\n    \n    case 'SET_SHOW_ADD_FORM':\n      return { ...state, showAddForm: action.payload };\n    \n    case 'START_EDITING':\n      return {\n        ...state,\n        editingId: action.payload.id,\n        editValue: action.payload.text,\n      };\n    \n    case 'CANCEL_EDITING':\n      return {\n        ...state,\n        editingId: null,\n        editValue: '',\n      };\n    \n    case 'SET_EDIT_VALUE':\n      return { ...state, editValue: action.payload };\n    \n    default:\n      return state;\n  }\n};\n\nexport const TodoProvider = ({ children }) => {\n  const [state, dispatch] = useReducer(todoReducer, initialState);\n  const [, setStoredTodos] = useLocalStorage(STORAGE_KEY, []);\n\n  // Load todos from localStorage on mount\n  useEffect(() => {\n    const savedTodos = JSON.parse(localStorage.getItem(STORAGE_KEY) || '[]');\n    if (savedTodos.length > 0) {\n      dispatch({ type: 'SET_TODOS', payload: savedTodos });\n    } else {\n      // Default todos for demo\n      const defaultTodos = [\n        {\n          id: generateId(),\n          text: 'Complete project proposal',\n          completed: false,\n          priority: PRIORITY_LEVELS.HIGH,\n          createdAt: new Date().toISOString(),\n          updatedAt: new Date().toISOString(),\n        },\n        {\n          id: generateId(),\n          text: 'Review code changes',\n          completed: true,\n          priority: PRIORITY_LEVELS.MEDIUM,\n          createdAt: new Date().toISOString(),\n          updatedAt: new Date().toISOString(),\n        },\n        {\n          id: generateId(),\n          text: 'Schedule team meeting',\n          completed: false,\n          priority: PRIORITY_LEVELS.LOW,\n          createdAt: new Date().toISOString(),\n          updatedAt: new Date().toISOString(),\n        },\n      ];\n      dispatch({ type: 'SET_TODOS', payload: defaultTodos });\n    }\n  }, []);\n\n  // Save todos to localStorage whenever todos change\n  useEffect(() => {\n    setStoredTodos(state.todos);\n  }, [state.todos, setStoredTodos]);\n\n  const filteredTodos = filterTodos(state.todos, state.filter, state.searchTerm);\n  const sortedTodos = sortTodosByPriority(filteredTodos);\n\n  const stats = {\n    total: state.todos.length,\n    completed: state.todos.filter(t => t.completed).length,\n    active: state.todos.filter(t => !t.completed).length,\n  };\n\n  const value = {\n    ...state,\n    dispatch,\n    filteredTodos: sortedTodos,\n    stats,\n  };\n\n  return (\n    <TodoContext.Provider value={value}>\n      {children}\n    </TodoContext.Provider>\n  );\n};\n\nexport const useTodoContext = () => {\n  const context = useContext(TodoContext);\n  if (!context) {\n    throw new Error('useTodoContext must be used within a TodoProvider');\n  }\n  return context;\n};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}